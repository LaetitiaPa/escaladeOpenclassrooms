<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="author" content="colorlib.com">
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,700" rel="stylesheet" />
    <link href="css/main.css" rel="stylesheet" />
   	<!-- Bootstrap core CSS -->
  	<link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

	<!-- Custom fonts for this template -->
	<link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet">
	<link href="vendor/simple-line-icons/css/simple-line-icons.css" rel="stylesheet" type="text/css">
	<link href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic" rel="stylesheet" type="text/css">
	<!-- Custom styles for this template -->
	<link href="css/landing-page.min.css" rel="stylesheet">
  </head>
  <body>
  <div th:include="navbar.html"></div>
    <div class="s007">
     <form th:action="@{/spot}" method="get">
      <div class="inner-form">
       <div class="advance-search">
  		  <h4 class="desc">Recherche avancée</h4>
         <div class="row">
          <div class="input-field">
           <div class="input-select">
           	 <select class='postform' th:field="*{local.region}" >
				<option value="">Toutes les localisations</option>
				<option class="level-1" value="Provence">Provence Alpes Cote d&rsquo;Azur</option>
				<option class="level-1" value="Alsace">Alsace</option>
				<option class="level-2" value="Bas Rhin">Bas Rhin</option>
				<option class="level-1" value="Aquitaine">Aquitaine</option>
				<option class="level-2" value="Dordogne">Dordogne</option>
				<option class="level-2" value="Gironde">Gironde</option>
				<option class="level-2" value="Pyrénées Atlantiques">Pyrénées Atlantiques</option>
				<option class="level-1" value="Bourgogne">Bourgogne</option>
				<option class="level-2" value="Côte d&rsquo;Or">Côte d&rsquo;Or</option>
				<option class="level-2" value="Nièvre">Nièvre</option>
				<option class="level-2" value="Saone et Loire">Saone et Loire</option>
				<option class="level-2" value="Yonne">Yonne</option>
				<option class="level-1" value="Bretagne">Bretagne</option>
				<option class="level-2" value="Côtes d'Armor">Côtes d&rsquo;Armor</option>
				<option class="level-2" value="Finistère">Finistère</option>
				<option class="level-2" value="Ille et Vilaine">Ille et Vilaine</option>
				<option class="level-1" value="Corse">Corse</option>
				<option class="level-1" value="Franche Comté">Franche Comté</option>
				<option class="level-2" value="Doubs">Doubs</option>
				<option class="level-2" value="Jura">Jura</option>
				<option class="level-2" value="Territoire de Belfort">Territoire de Belfort</option>
				<option class="level-1" value="Haute Normandie">Haute Normandie</option>
				<option class="level-2" value="Eure">Eure</option>
				<option class="level-1" value="Ile de France">Ile de France</option>
				<option class="level-2" value="Seine et Marne">Seine et Marne</option>
				<option class="level-1" value="Languedoc Roussillon">Languedoc Roussillon</option>
				<option class="level-2" value="Aude">Aude</option>
				<option class="level-2" value="Gard">Gard</option>
				<option class="level-2" value="Hérault">Hérault</option>
				<option class="level-2" value="Lozère">Lozère</option>
				<option class="level-2" value="Pyrénées orientales">Pyrénées orientales</option>
				<option class="level-1" value="Lorraine">Lorraine</option>
				<option class="level-2" value="Moselle">Moselle</option>
				<option class="level-1" value="Midi Pyrénées">Midi Pyrénées</option>
				<option class="level-2" value="Ariège">Ariège</option>
				<option class="level-2" value="Aveyron">Aveyron</option>
				<option class="level-2" value="Hautes Pyrénées">Hautes Pyrénées</option>
				<option class="level-2" value="Lot">Lot</option>
				<option class="level-2" value="Tarn">Tarn</option>
				<option class="level-1" value="Pays de la Loire">Pays de la Loire</option>
				<option class="level-2" value="Maine et Loire">Maine et Loire</option>
				<option class="level-2" value="Vendée">Vendée</option>
				<option class="level-1" value="Poitou Charentes">Poitou Charentes</option>
				<option class="level-2" value="Charente">Charente</option>
				<option class="level-2" value="Vienne">Vienne</option>
				<option class="level-2" value="Alpes de haute Provence">Alpes de haute Provence</option>
				<option class="level-2" value="Alpes Maritime">Alpes Maritime</option>
				<option class="level-2" value="Bouches du Rhone">Bouches du Rhone</option>
				<option class="level-2" value="Hautes Alpes">Hautes Alpes</option>
				<option class="level-2" value="Var">Var</option>
				<option class="level-2" value="Vaucluse">Vaucluse</option>
				<option class="level-1" value="Rhone Alpes">Rhone Alpes</option>
				<option class="level-2" value="Ardèche">Ardèche</option>
				<option class="level-2" value="Drome">Drome</option>
				<option class="level-2" value="Haute Savoie">Haute Savoie</option>
				<option class="level-2" value="Isère">Isère</option>
				<option class="level-2" value="Rhone">Rhone</option>
				<option class="level-2" value="Savoie">Savoie</option>
			  </select>
            </div>
          </div>
         <div class="input-field">
       	 	<div class="input-select">
	         <select class="mdb-select" th:field="*{spot.cotation}" >
			  <option value="">Cotation</option>
			  <option th:value="4a"  th:text="4a"></option>
			  <option th:value="4b"  th:text="4b"></option>
			  <option th:value="4c"  th:text="4c"></option>
			  <option th:value="5a"  th:text="5a"></option>
			  <option th:value="5b"  th:text="5b"></option>
			  <option th:value="5c"  th:text="5c"></option>
			  <option th:value="6a"  th:text="6a"></option>
			  <option th:value="6b"  th:text="6b"></option>
			  <option th:value="6c"  th:text="6c"></option>
			  <option th:value="7a"  th:text="7a"></option>
			  <option th:value="7b"  th:text="7b"></option>
			  <option th:value="7c"  th:text="7c"></option>
			  <option th:value="8a"  th:text="8a"></option>
			  <option th:value="8b"  th:text="8b"></option>
			  <option th:value="8c"  th:text="8c"></option>
			  <option th:value="9a"  th:text="9a"></option>
			  <option th:value="9b"  th:text="9b"></option>
			  <option th:value="9c"  th:text="9c"></option>
			</select>
          </div>
        </div>
       <div class="input-field">
        <div class="input-select">
	        <select class="mdb-select" th:field="*{spot.climbingType}" >
		     <option value="">Type d'escalade</option>
		     <option th:value="bloc"  th:text="Bloc"></option>
		     <option th:value="couenne"    th:text="Couenne"></option>
			</select>
        </div>
     </div>
   </div>
    <hr>
  <div class="row second">
   <div class="input-field">
    <div class="input-select">
      <select class="mdb-select" th:field="*{spot.holdsType}" >
	   <option value="">Type de prise</option>
	   <option th:value="trous"        th:text="trous"></option>
	   <option th:value="Réglettes"    th:text="Réglettes"></option>
	   <option th:value="Colonettes"   th:text="Colonettes"></option>
	   <option th:value="Plats"        th:text="Plats"></option>
	 </select>
   </div>
  </div>
  <div class="input-field">
   <div class="input-select">
 	 <select class="mdb-select" th:field="*{spot.tracksPract}" >
	   <option value="">Praticabilité</option>
	   <option th:value="Familiale"        th:text="Familiale"></option>
	   <option th:value="Correct"          th:text="Correct"></option>
	   <option th:value="Escarpée"         th:text="Escarpée"></option>
	 </select>
    </div>
  </div>
</div>
	<hr>
<div class="row second">
	<div class="col-5">
 		<label for="example-number-input" class="col-1 col-form-label">Hauteur</label>
		<input class="form-control" type="number" th:field="*{spot.height}" value="" id="example-number-input">
	</div>
	<div class="col-5">
		<label for="example-number-input" class="col-1 col-form-label">Voies</label>
		<input class="form-control" type="number" th:field="*{spot.trackNumber}" value="" id="example-number-input">
	</div>
   </div>
   <hr>
   <div class= "row third">
    <div class="input-field">
      <button class="btn-search" type="submit">Rechercher</button>
    </div>
  </div>
 </div>
</div>
<div class="inner-form">
 	<div class="basic-search"></div>
      <div class="advance-search">
        <h5>Résultat:</h5>
  	    <div th:if="${ #lists.isEmpty(filterSpot)}"> 
    		<span style="color:red" >Aucun résultat trouvé</span>	
    	</div>
		<div th:if="${ !#lists.isEmpty(filterSpot)}"> 
		<table class="table table-striped">
			<tr>
		     <th>Nom</th>
		     <th>Action</th>
			</tr>
			<tr th:each="spot: ${filterSpot}">
		    <td th:text="${spot.name}"></td>
			<td>
 			  <a th:href="@{/afficher-un-spot(name=${spot.name})}"class="btn btn-info btn-sm">Voir la fiche</a>
     	    </td>
		 </tr>
  	   </table>
	 </div>
   </div>
  </div>
	
</body><!-- This templates was made by Colorlib (https://colorlib.com) -->

<script src="js/extention/choices.js"></script>
	<script>
    const customSelects = document.querySelectorAll("select");
    const deleteBtn = document.getElementById('delete')
    const choices = new Choices('select',
    {
      searchEnabled: false,
      removeItemButton: true,
      itemSelectText: '',
    });
    for (let i = 0; i < customSelects.length; i++)
    {
      customSelects[i].addEventListener('addItem', function(event)
      {
        if (event.detail.value)
        {
          let parent = this.parentNode.parentNode
          parent.classList.add('valid')
          parent.classList.remove('invalid')
        }
        else
        {
          let parent = this.parentNode.parentNode
          parent.classList.add('invalid')
          parent.classList.remove('valid')
        }
      }, false);
    }
    deleteBtn.addEventListener("click", function(e)
    {
      e.preventDefault()
      const deleteAll = document.querySelectorAll('.choices__button')
      for (let i = 0; i < deleteAll.length; i++)
      {
        deleteAll[i].click();
      }
    });

</script>
</html>
